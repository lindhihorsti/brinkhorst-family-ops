brinkhorst-family-ops.duckdns.org {

  # Telegram webhook must be public (Telegram cannot send Basic Auth)
  @tgwebhook path /bot/telegram/webhook*
  handle @tgwebhook {
    reverse_proxy backend:8000
  }

  # Everything else is protected
  handle {
    basic_auth {
      dennis {$DENNIS_PWHASH}
    }

    reverse_proxy /api/* backend:8000
    reverse_proxy /bot/* backend:8000
    reverse_proxy frontend:3000
  }
}
